version: "1.0"

agent:
  name: vm0-checkpoint-resume-test
  description: "Test agent for checkpoint resume functionality"
  image: vm0-claude-code-dev
  provider: claude-code
  working_dir: /home/user/workspace
  volumes:
    - claude-system:/home/user/.config/claude
    - user-workspace:/home/user/workspace

volumes:
  claude-system:
    driver: s3fs
    driver_opts:
      uri: s3://vm0-s3-demo-bucket-public/claude-files
      region: us-west-2

dynamic_volumes:
  user-workspace:
    driver: git
    driver_opts:
      uri: https://github.com/{{user}}/question.git
      branch: main
      token: "${CI_GITHUB_TOKEN}"
